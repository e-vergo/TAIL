Kim Morrison: experimental.module is no longer required as of v4.27.0-rc1Kim Morrison: I think, as you realize on the public thread, that we need a bit more flexibility. I think the right approach is:

still require MainTheorem and ProofOfMainTheorem
but allow MainTheorem to import other project local files
but to explicitly list each such file, along with the signatures of every public statement in them
and maybe just reduce to a warning for the cases:
there are project imports into MainTheorem
there are more declarations than the MainTheorem


Kim Morrison: I think we probably need to allow some flexibility in naming the main declarations. Otherwise people can't transitively depend on other projects using the same structure, or there will be collisions. Perhaps a toml file? Perhaps tailverify "walks you through" setting up the toml file if it can't find things with "obvious" names, and knows that configuration is necessary?Kim Morrison: Actually, maybe an easier/better solution is just to require that the mainStatement and mainTheorem are in a namespace, identical to the project name.Kim Morrison: I don't like the name "MainTheoremPurity". Maybe just "NoDefsForMainTheorem"?Eric Vergo: Kim Morrison said:

Actually, maybe an easier/better solution is just to require that the mainStatement and mainTheorem are in a namespace, identical to the project name.

Eric Vergo: This sounds like the right way to go. If we had this it would prevent collisions so it wouldn't need the 'guided toml file', right? A few additional thoughts:

I think TailVerify should offer a 'strict' mode that adheres to the 'no new definitions' standard. This would allow newer people to engage and get the hang of things before moving on to more difficult projects.
I like the idea of keeping a dedicated definitions file/folder. After 4.5 Opus came out I stress tested it (plus an early version of the tool) and formalized a result of mine: https://github.com/e-vergo/TDCSG. That structure made it much easier for me to course correct the LLM while it was working and (I think) makes it easier to inspect.
Eric Vergo: Another thing that crossed my mind is that this tool may be part of people's 'first contact' with lean. Given that we may want to make it as user friendly as possible. Maybe the right thing to do is to have everything be 'on rails' to reduce the opportunity for mistakes.Kim Morrison: 100% to all of the above!